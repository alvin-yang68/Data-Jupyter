(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,r){},280:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(42),s=r.n(c),o=r(3),l=r(24),i=(r(120),r(19)),d=r(9),u=r(4),b=r.n(u),j=r(8),x=r(108),h=r.n(x).a.create({validateStatus:function(e){return e<300}});function p(e){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/api/checkpoint?databaseModel=".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/api/checkpoint?databaseModel=".concat(t.databaseModel),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return O.apply(this,arguments)}function O(){return(O=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/api/checkpoint/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w,k,y,N=Object(d.b)("checkpoint/fetch",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState,a=r.rejectWithValue,c=n(),(s=c.notebook).databaseModel){e.next=4;break}return e.abrupt("return",a("Rejected"));case 4:return e.prev=4,e.next=7,p(s.databaseModel);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",a(e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()),C=Object(d.b)("checkpoint/save",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n,a,c,s,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState,a=r.rejectWithValue,c=n(),s=c.editor,o=c.notebook,l=c.browser,o.selectedDataset&&o.databaseModel&&null!==l){e.next=4;break}return e.abrupt("return",a("Rejected"));case 4:return e.prev=4,e.next=7,m({name:t,editorState:s,browserState:l,databaseModel:o.databaseModel,selectedDataset:o.selectedDataset});case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",a(e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()),M=Object(d.b)("checkpoint/load",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,g(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),L=Object(d.c)({name:"checkpoint",initialState:[],reducers:{},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){return t.payload}))}});function S(e){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/api/".concat(t,"/dataset"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(b.a.mark((function e(t){var r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.databaseModel,n=t.formData,e.next=3,h.post("/api/".concat(r,"/dataset"),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.Raw="Raw",e.Table="Table",e.Console="Console"}(w||(w={})),function(e){e.SaveCheckpoint="Save Checkpoint",e.LoadCheckpoint="Load Checkpoint",e.None="None"}(k||(k={})),function(e){e.Mongodb="mongodb",e.Psql="psql"}(y||(y={}));var I={databaseModel:null,datasets:[],selectedDataset:null,modalMode:k.None},E=Object(d.b)("notebook/fetchDatasets",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState,a=r.rejectWithValue,c=n(),s=c.notebook.databaseModel){e.next=4;break}return e.abrupt("return",a("Unable to fetch datasets. No database model selected"));case 4:return e.prev=4,e.next=7,S(s);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",a(e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}()),R=Object(d.b)("notebook/uploadDataset",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,B(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),V=Object(d.c)({name:"notebook",initialState:I,reducers:{selectDatabaseModel:function(e,t){var r=t.payload;e.databaseModel=r},selectDataset:function(e,t){var r=t.payload;e.selectedDataset=r},toggleModal:function(e,t){var r=t.payload;e.modalMode=r}},extraReducers:function(e){e.addCase(R.fulfilled,(function(e,t){e.selectedDataset=t.payload})),e.addCase(M.fulfilled,(function(e,t){e.selectedDataset=t.payload.selectedDataset})),e.addCase(E.fulfilled,(function(e,t){e.datasets=t.payload}))}}),A=V.actions,F=A.selectDatabaseModel,P=A.selectDataset,z=A.toggleModal;function T(e){return e.type.endsWith("/pending")}function q(e){return e.type.endsWith("/fulfilled")}function J(e){return e.type.endsWith("/rejected")}var U=Object(d.c)({name:"app",initialState:{loading:!1,success:null,error:null},reducers:{setError:function(e,t){var r=t.payload;r?(e.error={timestamp:Date.now(),message:r},e.success=null):e.error=null},setSuccess:function(e,t){var r=t.payload;r?(e.success={timestamp:Date.now(),message:r},e.error=null):e.success=null}},extraReducers:function(e){e.addCase(R.fulfilled,(function(e){e.success={timestamp:Date.now(),message:"Successfully uploaded dataset"}})),e.addMatcher(T,(function(e){e.loading=!0,e.error=null})),e.addMatcher(q,(function(e){e.loading=!1,e.error=null})),e.addMatcher(J,(function(e,t){e.loading=!1,e.success=null;var r=t.payload||t.error.message;e.error=r?{timestamp:Date.now(),message:r}:null}))}}),H=U.actions,Q=H.setError,_=H.setSuccess,G=r(45),K=["databaseModel"];function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(b.a.mark((function e(t){var r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.databaseModel,n=Object(G.a)(t,K),e.next=3,h.post("/api/".concat(r,"/run"),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(d.b)("editor/runCell",function(){var e=Object(j.a)(b.a.mark((function e(t,r){var n,a,c,s,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState,a=r.rejectWithValue,c=n(),s=c.notebook,o=c.editor,!(t>o.cells.length)){e.next=4;break}return e.abrupt("return",a("Invalid cell"));case 4:if(s.selectedDataset){e.next=6;break}return e.abrupt("return",a("No dataset selected"));case 6:return l=o.cells[t],e.prev=7,e.next=10,X({databaseModel:s.databaseModel,selectedDataset:s.selectedDataset,editorContent:l.editorContent});case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",a(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,r){return e.apply(this,arguments)}}()),$=Object(d.c)({name:"editor",initialState:{cells:[],cellCounter:0,execCounter:0,lastExecutedCellId:null,updateBrowserCellId:null},reducers:{addCell:function(e,t){var r=t.payload;e.cellCounter+=1;var n={id:e.cellCounter,execStatus:" ",errorStatus:!1,editorContent:"",numOfLines:0};null!==r?e.cells.splice(r+1,0,n):e.cells.push(n)},changeCell:function(e,t){var r=t.payload,n=r.index,a=r.value;e.cells[n].numOfLines=a.split("\n").length,e.cells[n].editorContent=a},deleteCell:function(e,t){var r=t.payload;null!==r?e.cells.splice(r,1):e.cells.pop()},swapCell:function(e,t){var r=t.payload,n=r.focusedCellIndex,a=n+r.step;e.cells.splice(a,0,e.cells.splice(n,1)[0])},loadCells:function(e,t){var r=t.payload;e.cells=r}},extraReducers:function(e){e.addCase(Z.pending,(function(e,t){var r=t.meta.arg,n=e.cells[r];n.execStatus="*",n.errorStatus=!1})),e.addCase(Z.fulfilled,(function(e,t){var r=t.meta.arg,n=e.cells[r];e.execCounter+=1,n.execStatus=e.execCounter,n.errorStatus=t.payload.hasCellError,e.lastExecutedCellId=n.id,t.payload.shouldUpdateBrowser&&(e.updateBrowserCellId=n.id)})),e.addCase(Z.rejected,(function(e,t){var r=t.meta.arg,n=e.cells[r];n.execStatus=" ",n.errorStatus=!0})),e.addCase(M.fulfilled,(function(e,t){return t.payload.editorState}))}}),ee=$.actions,te=ee.addCell,re=ee.changeCell,ne=ee.deleteCell,ae=ee.swapCell,ce=(ee.loadCells,r(58)),se=["hasCellError","shouldUpdateBrowser"],oe=Object(d.c)({name:"browser",initialState:{raw:"",table:"",console:""},reducers:{},extraReducers:function(e){e.addCase(Z.fulfilled,(function(e,t){var r=t.payload,n=(r.hasCellError,r.shouldUpdateBrowser,Object(G.a)(r,se));return Object(ce.a)(Object(ce.a)({},e),n)})),e.addCase(M.fulfilled,(function(e,t){return t.payload.browserState}))}}),le=Object(i.b)({status:U.reducer,notebook:V.reducer,browser:oe.reducer,editor:$.reducer,checkpoint:L.reducer}),ie=Object(d.a)({reducer:le}),de=ie.dispatch,ue=r(6),be=r(0);function je(){return Object(be.jsx)("nav",{className:"fixed z-10 h-20 w-screen flex flex-row items-start py-1 bg-blue-600 border-t-8 border-blue-200",children:Object(be.jsxs)("div",{id:"Logo",className:"flex flex-row items-center gap-6 text-white",children:[Object(be.jsx)(l.b,{to:"/",children:Object(be.jsx)("h1",{className:"py-2 px-8 font-bold text-4xl hover:text-gray-300 no-underline",children:"Data Jupyter"})}),Object(be.jsxs)("ul",{id:"Notebook",className:"dropdown flex flex-col",children:[Object(be.jsx)("li",{className:"px-4 cursor-default",children:Object(be.jsx)("h1",{className:"text-blue-200 text-2xl font-bold",children:"Notebook"})}),Object(be.jsxs)("div",{className:"pt-16 dropdown-content absolute hidden text-blue-200",children:[Object(be.jsx)(l.b,{to:"/postgresql",children:Object(be.jsx)("li",{className:"px-4 border-t-2 border-blue-200 bg-blue-600 hover:bg-blue-800 hover:text-white",children:Object(be.jsx)("h2",{className:"font-bold text-xl",children:"PostgreSQL"})})}),Object(be.jsx)(l.b,{to:"/mongodb",children:Object(be.jsx)("li",{className:"px-4 border-t-2 border-blue-200 bg-blue-600 hover:bg-blue-800 hover:text-white",children:Object(be.jsx)("h2",{className:"font-bold text-xl",children:"MongoDB"})})})]})]}),Object(be.jsx)(l.b,{to:"/dataset",children:Object(be.jsx)("h1",{className:"text-blue-200 hover:text-white text-2xl font-bold",children:"Dataset"})})]})})}function xe(e){var t=e.message;return Object(be.jsxs)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-10 flex justify-center items-center m-1 font-medium py-1 px-2 rounded-md text-red-700 bg-red-100 border border-red-400 ",children:[Object(be.jsx)("div",{slot:"avatar",children:Object(be.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-alert-octagon w-5 h-5 mx-2",children:[Object(be.jsx)("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),Object(be.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),Object(be.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),Object(be.jsx)("div",{className:"text-xl font-normal  max-w-full flex-initial",children:t}),Object(be.jsx)("div",{className:"flex flex-auto flex-row-reverse",children:Object(be.jsxs)("svg",{onClick:function(){return de(Q(null))},xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x cursor-pointer hover:text-red-400 rounded-full w-5 h-5 ml-2",children:[Object(be.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(be.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function he(e){var t=e.message;return Object(be.jsxs)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-10 flex justify-center items-center m-1 font-medium py-1 px-2 rounded-md text-green-700 bg-green-100 border border-green-300 ",children:[Object(be.jsx)("div",{slot:"avatar",children:Object(be.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-circle w-5 h-5 mx-2",children:[Object(be.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),Object(be.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),Object(be.jsx)("div",{className:"text-xl font-normal  max-w-full flex-initial",children:t}),Object(be.jsx)("div",{className:"flex flex-auto flex-row-reverse",children:Object(be.jsxs)("svg",{onClick:function(){return de(_(null))},xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x cursor-pointer hover:text-green-400 rounded-full w-5 h-5 ml-2",children:[Object(be.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(be.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function pe(){var e=Object(o.c)((function(e){return e.status.error})),t=Object(o.c)((function(e){return e.status.success}));return Object(be.jsxs)("div",{className:"transition duration-200 ease-in-out ".concat(e||t?"opacity-100":"opacity-0"),children:[!!e&&Object(be.jsx)(xe,{message:e.message}),!!t&&Object(be.jsx)(he,{message:t.message})]})}var fe=Object(be.jsxs)("div",{children:[Object(be.jsx)("h1",{className:"my-2 text-5xl text-center font-bold",children:"Instructions"}),Object(be.jsx)("br",{}),Object(be.jsx)("p",{children:"Data Jupyter is an interactive web application for simplifying the task of data processing on MongoDB and PostgreSQL databases. The main interface of Data Jupyter is modelled after the popular Jupyter Notebook, making it familiar to many data analysts. Data Jupyter also offers support for data traceability through its integrated checkpoint system and by enforcing a modular style of data processing."}),Object(be.jsx)("br",{}),Object(be.jsx)("h2",{className:"my-2 text-3xl font-semibold",children:"Loading a dataset"}),Object(be.jsxs)("ol",{className:"list-decimal",children:[Object(be.jsxs)("li",{children:["Choose a demo dataset (e.g. nobel_prizes_incorrect) and press Select.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839332-f3ba1a80-d34b-11eb-8157-eadb74b66a2b.png",alt:""})]}),Object(be.jsxs)("li",{children:["Add a new cell in the editor by clicking the + icon.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839450-295f0380-d34c-11eb-889f-c764b61594a4.png",alt:""})]}),Object(be.jsxs)("li",{children:["In the new cell, type `show = col.find()` to make the Data Browser show all documents in the collection.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839489-3976e300-d34c-11eb-9a86-a827cbf29119.png",alt:""})]}),Object(be.jsxs)("li",{children:["Click the single arrow icon to run the cell.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839560-5e6b5600-d34c-11eb-82d1-1e807002b15c.png",alt:""})]}),Object(be.jsxs)("li",{children:["The data will be displayed on the Raw tab.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839638-865ab980-d34c-11eb-8de6-d7bb0b7bc4ee.png",alt:""})]})]}),Object(be.jsx)("br",{}),Object(be.jsx)("h2",{className:"my-2 text-3xl font-semibold",children:"Loading a checkpoint"}),Object(be.jsx)("p",{children:"Data traceability is a very important aspect in data analytics. Data Jupyter supported this by integrating a checkpoint system."}),Object(be.jsxs)("ol",{className:"list-decimal",children:[Object(be.jsxs)("li",{children:["Click on the icon to the right.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839878-07b24c00-d34d-11eb-83e3-c74ebec64cc3.png",alt:""})]}),Object(be.jsxs)("li",{children:["Select the checkpoint \u201c6/15/2021, 1:09:23 PM\u201d and click Load.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839882-0aad3c80-d34d-11eb-8de1-05098c8e4b84.png",alt:""})]}),Object(be.jsxs)("li",{children:["The notebook state will be restored to that checkpoint.",Object(be.jsx)("img",{src:"https://user-images.githubusercontent.com/72721378/122839900-139e0e00-d34d-11eb-9256-2b475d6f0404.png",alt:""})]})]})]});function me(){return Object(be.jsxs)("div",{className:"grid grid-cols-4",children:[Object(be.jsx)("div",{}),Object(be.jsx)("div",{className:"col-span-2 py-8 px-12 bg-white shadow-lg rounded-lg my-20",children:fe}),Object(be.jsx)("div",{})]})}function ve(e){var t=e.title,r=e.children,n=Object(o.b)();return Object(be.jsx)("div",{className:"bg-gray-400 h-screen w-screen flex justify-center items-center",children:Object(be.jsxs)("div",{className:"mb-24 bg-white rounded shadow-lg w-2/12",children:[Object(be.jsxs)("div",{className:"border-b px-4 py-2 flex justify-between items-center",children:[Object(be.jsx)("h3",{className:"font-semibold text-lg uppercase",children:t}),Object(be.jsx)("svg",{onClick:function(){return n(z(k.None))},xmlns:"http://www.w3.org/2000/svg",className:"button-icon hover:text-red-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),r]})})}var ge=r(14);function Oe(){var e=Object(o.c)((function(e){return e.notebook.datasets})),t=Object(o.c)((function(e){return e.notebook.selectedDataset})),r=Object(n.useState)("NONE"),a=Object(ge.a)(r,2),c=a[0],s=a[1];Object(n.useEffect)((function(){null!==t&&s(t)}),[t]);return Object(be.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"NONE"!==c?(de(P(c)),de(Q(null))):de(Q("No dataset selected"))},className:"mx-auto flex flex-col gap-4 items-center",children:[Object(be.jsxs)("select",{value:c,onChange:function(e){s(e.target.value)},className:"border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none",children:[Object(be.jsx)("option",{disabled:!0,value:"NONE",children:" -- select an option -- "}),e.map((function(e){return function(e){return Object(be.jsx)("option",{value:e,className:"ml-2 inline-block ".concat(t===e&&"font-bold"),children:e},e)}(e)}))]}),Object(be.jsx)("input",{type:"submit",value:"Select",className:"cursor-pointer button-relief"})]})}var we=r(109),ke=r(110);function ye(e,t){return void 0===t&&(t=e,e=0),Array.from(new Array(t-e).keys()).map((function(t){return t+e}))}function Ne(e){var t=e.numOfCells,r=e.focusedCellIndex,n=e.setFocusedCellIndex,a=function(){var e=Object(j.a)(b.a.mark((function e(){var r,n,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=3;break}return de(Q("No cell to run")),e.abrupt("return");case 3:r=Object(we.a)(ye(t)),e.prev=4,r.s();case 6:if((n=r.n()).done){e.next=22;break}return a=n.value,e.prev=8,e.next=11,de(Z(a));case 11:if(c=e.sent,s=Object(d.d)(c),!s.hasCellError){e.next=15;break}return e.abrupt("break",22);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(8),e.abrupt("break",22);case 20:e.next=6;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(4),r.e(e.t1);case 27:return e.prev=27,r.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[4,24,27,30],[8,17]])})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)("div",{className:"px-4 max-w-4xl max-h-screen bg-gray-50 border border-gray-300 rounded-md text-left",children:[Object(be.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(be.jsxs)("div",{className:"flex flex-row",children:[Object(be.jsx)("svg",{onClick:function(){return de(te(r))},"data-tip":"Add New Cell","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),Object(be.jsx)("svg",{onClick:function(){de(ne(r)),n(null)},"data-tip":"Delete Cell","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-red-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(be.jsx)("svg",{onClick:function(){null!==r&&r>0&&(de(ae({focusedCellIndex:r,step:-1})),n(r-1))},"data-tip":"Move Cell Up","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),Object(be.jsx)("svg",{onClick:function(){null!==r&&r<t-1&&(de(ae({focusedCellIndex:r,step:1})),n(r+1))},"data-tip":"Move Cell Down","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),Object(be.jsx)("svg",{onClick:function(){de(0!==t?Z(null!==r?r:t-1):Q("No cell to run"))},"data-tip":"Run Cell","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Object(be.jsx)("svg",{onClick:a,"data-tip":"Run All Cells","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})]}),Object(be.jsxs)("div",{className:"flex flex-row",children:[Object(be.jsx)("svg",{onClick:function(){de(z(k.SaveCheckpoint))},xmlns:"http://www.w3.org/2000/svg","data-tip":"Save Checkpoint","data-for":"topButtons",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Object(be.jsx)("svg",{onClick:function(){de(z(k.LoadCheckpoint))},xmlns:"http://www.w3.org/2000/svg","data-tip":"Load Checkpoint","data-for":"topButtons",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})]})]}),Object(be.jsx)(ke.a,{id:"topButtons",place:"top",effect:"solid"})]})}var Ce=r(44),Me=r.n(Ce);r(147),r(148);var Le=function(e){var t=e.index,r=e.setFocusedCellIndex,n=Object(o.b)(),a=Object(o.c)((function(e){return e.editor.cells[t].execStatus})),c=Object(o.c)((function(e){return e.editor.cells[t].editorContent})),s=Object(o.c)((function(e){return e.editor.cells[t].numOfLines})),l=Object(o.c)((function(e){return e.editor.cells[t].errorStatus})),i="";return Object(o.c)((function(e){return e.editor.lastExecutedCellId===e.editor.cells[t].id}))&&(i="border-l-4 border-green-500"),Object(o.c)((function(e){return e.editor.updateBrowserCellId===e.editor.cells[t].id}))&&(i="border-l-4 border-blue-500"),l&&(i="border-l-4 border-red-500"),Object(be.jsxs)("div",{className:"flex flex-col p-2 ".concat(i," rounded shadow-md relative hover:shadow-lg overflow-hidden"),children:[Object(be.jsxs)("div",{className:"flex flex-row justify-between items-start",children:[Object(be.jsx)("span",{className:"text-lg mr-4 min-w-max",children:"[".concat(a,"]: ")}),Object(be.jsx)("div",{style:{width:"93%"},className:"mt-2 ring-4 ring-gray-400 ".concat(s<=5?"focus-within:ring-blue-500":"focus-within:ring-yellow-500"," relative"),children:Object(be.jsx)(Me.a,{width:"100%",mode:"python",theme:"chrome",showGutter:!1,fontSize:16,minLines:1,maxLines:15,value:c,onFocus:function(){return r(t)},onChange:function(e){return n(re({index:t,value:e}))},wrapEnabled:!0})})]}),s>5&&Object(be.jsx)("span",{className:"mt-2 text-yellow-500 text-right font-bold",children:"Recommended maximum number of lines is 5"})]})};function Se(){var e=Object(o.c)((function(e){return e.editor.cells})),t=Object(n.useState)(null),r=Object(ge.a)(t,2),a=r[0],c=r[1];return Object(be.jsxs)("div",{className:"flex flex-col",children:[Object(be.jsx)(Ne,{numOfCells:e.length,focusedCellIndex:a,setFocusedCellIndex:c}),Object(be.jsx)("div",{className:"px-4 max-w-4xl h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-y-scroll",children:Object(be.jsx)("div",{className:"flex flex-col m-2 gap-4",children:e.map((function(e,t){return Object(be.jsx)(Le,{index:t,setFocusedCellIndex:c},e.id)}))})})]})}r(149),r(150);function De(){var e=Object(o.c)((function(e){return e.browser.raw}));return Object(n.useMemo)((function(){return Object(be.jsx)(Me.a,{width:"100%",mode:"json",theme:"monokai",readOnly:!0,fontSize:16,minLines:39,maxLines:39,showPrintMargin:!1,value:e})}),[e])}var Be=r(111),We=r.n(Be),Ie=r(112),Ee=r.n(Ie);function Re(){var e=Object(o.c)((function(e){return e.browser.table}));return Object(n.useMemo)((function(){return Object(be.jsx)("div",{className:"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md whitespace-nowrap overflow-scroll",children:Object(be.jsx)(We.a,{remarkPlugins:[Ee.a],children:e})})}),[e])}function Ve(){var e=Object(o.c)((function(e){return e.browser.console}));return Object(be.jsx)("div",{className:"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-scroll",children:Object(be.jsx)("span",{className:"font-mono",children:e})})}function Ae(e){var t=e.modes,r=Object(o.c)((function(e){return e.status.loading})),a=Object(n.useState)(t[0]),c=Object(ge.a)(a,2),s=c[0],l=c[1],i=function(e){e.preventDefault(),l(e.currentTarget.name)},d=t.map((function(e){return Object(be.jsx)("button",{type:"button",name:e,onClick:i,className:"py-2 px-4 inline-block font-semibold ".concat(s===e?"text-blue-600":"text-gray-400"),children:e},e)}));return Object(be.jsxs)("div",{className:"px-4 max-w-4xl min-h-screen",children:[Object(be.jsxs)("div",{className:"flex flex-row justify-between w-full bg-gray-50 border border-gray-300 rounded-t-md",children:[Object(be.jsx)("div",{className:"text-left",children:d}),r&&Object(be.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-700 m-2 outline-none animate-spin transform rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})]}),s===w.Raw&&Object(be.jsx)(De,{}),s===w.Table&&Object(be.jsx)(Re,{}),s===w.Console&&Object(be.jsx)(Ve,{})]})}function Fe(e){var t=e.id,r=e.selectedId,n=e.setSelectedId,a=Object(o.c)((function(e){return e.checkpoint.find((function(e){return e.id===t}))}));return Object(be.jsx)("li",{onClick:function(){return n(t)},className:"p-4 hover:bg-gray-100 cursor-pointer text-center ".concat(r===t&&"bg-gray-100"),role:"presentation",children:null===a||void 0===a?void 0:a.name})}function Pe(){var e=Object(o.c)((function(e){return e.status.loading})),t=Object(o.c)((function(e){return e.checkpoint.map((function(e){return e.id}))})),r=Object(n.useState)(null),a=Object(ge.a)(r,2),c=a[0],s=a[1];Object(n.useEffect)((function(){de(N())}),[]);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{className:"flex flex-col justify-center",children:t.length>0?Object(be.jsx)("ul",{className:"divide-y divide-gray-300",children:t.map((function(e){return Object(be.jsx)(Fe,{id:e,selectedId:c,setSelectedId:s},e)}))}):Object(be.jsx)("span",{className:"m-4",children:e?"Loading...":"No checkpoint has been created"})}),Object(be.jsx)("div",{className:"flex justify-end items-center w-100 border-t px-2",children:Object(be.jsx)("button",{onClick:function(e){e.preventDefault(),c?(de(M(c)),de(z(k.None))):de(Q("No checkpoint selected"))},type:"submit",className:"button bg-blue-600 hover:bg-blue-700",children:"Load"})})]})}function ze(){var e=Object(n.useState)(""),t=Object(ge.a)(e,2),r=t[0],a=t[1],c=(new Date).toLocaleString();return Object(be.jsx)(be.Fragment,{children:Object(be.jsx)("form",{onSubmit:function(e){e.preventDefault(),""===r&&a(c),de(C(r)),de(z(k.None))},className:"flex justify-center",children:Object(be.jsxs)("div",{className:"my-4",children:[Object(be.jsx)("input",{autoFocus:!0,type:"text",placeholder:c,value:r,onChange:function(e){return a(e.target.value)},className:"rounded-l-lg p-4 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white"}),Object(be.jsx)("button",{type:"submit",className:"button-reliefpx-8 rounded-r-lg bg-blue-700  text-white font-bold p-4 uppercase border-blue-800 border-t border-b border-r",children:"Save"})]})})})}function Te(e){var t=e.databaseModel,r=Object(o.c)((function(e){return e.notebook.modalMode}));switch(Object(n.useEffect)((function(){de(F(t)),de(E())}),[]),r){case k.LoadCheckpoint:return Object(be.jsx)(ve,{title:"Load Checkpoint",children:Object(be.jsx)(Pe,{})});case k.SaveCheckpoint:return Object(be.jsx)(ve,{title:"Save Checkpoint",children:Object(be.jsx)(ze,{})});default:return Object(be.jsxs)("div",{className:"h-full container mx-auto px-4 pt-16 text-center",children:[Object(be.jsx)("h1",{className:"font-bold text-5xl p-4 border-b-2 border-gray-300",children:t===y.Mongodb?"MongoDB":"PostgreSQL"}),Object(be.jsxs)("div",{className:"py-4",children:[Object(be.jsx)("h1",{className:"font-bold text-3xl uppercase p-4",children:"Choose a dataset"}),Object(be.jsx)(Oe,{})]}),Object(be.jsxs)("div",{className:"grid grid-cols-2 gap-6 py-4",children:[Object(be.jsxs)("div",{children:[Object(be.jsx)("h1",{className:"font-bold text-3xl uppercase px-4 py-6",children:"Editor"}),Object(be.jsx)(Se,{})]}),Object(be.jsxs)("div",{children:[Object(be.jsx)("h1",{className:"font-bold text-3xl uppercase px-4 py-6",children:"Data Browser"}),t===y.Psql?Object(be.jsx)(Ae,{modes:[w.Table,w.Console]}):Object(be.jsx)(Ae,{modes:[w.Raw,w.Table,w.Console]})]})]})]})}}var qe=r(34);function Je(e){var t=e.options,r=e.value,n=e.onChange,a=t.map((function(e){return Object(be.jsx)("option",{value:e,className:"ml-2 inline-block",children:e},e)}));return Object(be.jsx)("select",{value:r,onChange:function(e){n(e.target.value)},className:"border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none",children:a})}var Ue,He=Object(be.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(be.jsx)("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})}),Qe=Object(be.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(be.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});function _e(e){var t=e.value,r=e.onChange,n=e.accept;return Object(be.jsx)("div",{className:"mx-auto w-64",children:Object(be.jsxs)("label",{htmlFor:"file",className:"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue-600 rounded-lg shadow-lg tracking-wide uppercase border border-blue-600 cursor-pointer hover:bg-blue-600 hover:text-white",children:[t?Qe:He,Object(be.jsx)("span",{className:"mt-2 text-base leading-normal",children:(null===t||void 0===t?void 0:t.name)||"Browse File"}),Object(be.jsx)("input",{id:"file",type:"file",name:"dataset",onChange:function(e){e.target.files&&0!==e.target.files.length&&r(e.target.files[0])},accept:n,className:"hidden"})]})})}var Ge=(Ue={},Object(qe.a)(Ue,y.Mongodb,".txt"),Object(qe.a)(Ue,y.Psql,".csv"),Ue);function Ke(){var e=Object(n.useState)(y.Mongodb),t=Object(ge.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(null),s=Object(ge.a)(c,2),o=s[0],l=s[1];return Object(be.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),r)if(o){var t=new FormData;t.append("file",o),de(R({databaseModel:r,formData:t})).then((function(){return l(null)}))}else de(Q("No file to upload"));else de(Q("No database model selected"))},className:"flex flex-col items-center gap-4",children:[Object(be.jsx)("h3",{className:"font-bold text-xl p-4",children:"1. Select a database model"}),Object(be.jsx)(Je,{options:Object.values(y),value:r,onChange:function(e){a(e)}}),Object(be.jsx)("h3",{className:"font-bold text-xl p-4",children:"2. Choose a ".concat(Ge[r]," file")}),Object(be.jsx)(_e,{value:o,onChange:function(e){l(e)},accept:Ge[r]}),Object(be.jsx)("input",{type:"submit",value:"Upload",className:"cursor-pointer button-relief"})]})}function Xe(){return Object(be.jsxs)("div",{className:"h-full container mx-auto px-4 pt-16 text-center",children:[Object(be.jsx)("h1",{className:"font-bold text-5xl p-4 border-b-2 border-gray-300",children:"Dataset"}),Object(be.jsxs)("div",{className:"my-8 grid grid-cols-4",children:[Object(be.jsx)("div",{}),Object(be.jsxs)("div",{className:"py-8 col-span-2 bg-white rounded-lg shadow",children:[Object(be.jsx)("h1",{className:"mb-4 font-bold text-3xl uppercase",children:"Upload a dataset"}),Object(be.jsx)(Ke,{})]})]}),Object(be.jsx)("div",{})]})}function Ye(){return Object(be.jsxs)("div",{className:"h-screen w-screen flex flex-col",children:[Object(be.jsx)(je,{}),Object(be.jsx)(pe,{}),Object(be.jsx)("main",{className:"mt-16",children:Object(be.jsxs)(ue.c,{children:[Object(be.jsx)(ue.a,{exact:!0,path:["/","/index"],children:Object(be.jsx)(me,{})}),Object(be.jsx)(ue.a,{exact:!0,path:"/postgresql",children:Object(be.jsx)(Te,{databaseModel:y.Psql},"postgresql")}),Object(be.jsx)(ue.a,{exact:!0,path:"/mongodb",children:Object(be.jsx)(Te,{databaseModel:y.Mongodb},"mongodb")}),Object(be.jsx)(ue.a,{exact:!0,path:"/dataset",children:Object(be.jsx)(Xe,{})})]})})]})}s.a.render(Object(be.jsx)(a.a.StrictMode,{children:Object(be.jsx)(o.a,{store:ie,children:Object(be.jsx)(l.a,{forceRefresh:!0,children:Object(be.jsx)(Ye,{})})})}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.8ffef2b3.chunk.js.map