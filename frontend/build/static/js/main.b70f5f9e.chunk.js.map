{"version":3,"sources":["api/index.tsx","api/browser.tsx","api/checkpoint.tsx","slices/checkpoint.tsx","types/index.tsx","slices/editor.tsx","slices/notebook.tsx","slices/browser.tsx","store.tsx","components/NavBar.tsx","views/HomeView.tsx","components/DatasetSelection.tsx","components/DataBrowser/RawView.tsx","components/DataBrowser/TableView.tsx","components/DataBrowser/ConsoleView.tsx","components/DataBrowser/index.tsx","components/Editor/TopBar.tsx","components/Editor/Cell.tsx","utils/index.tsx","components/Editor/index.tsx","components/Checkpoint/CheckpointDetail.tsx","components/Checkpoint/index.tsx","views/NotebookView.tsx","App.tsx","index.tsx"],"names":["client","axios","create","validateStatus","status","updateBrowser","payload","a","databaseModel","request","post","response","data","fetchCheckpoints","get","saveCheckpoint","timestamp","Date","toLocaleString","loadCheckpoint","id","BrowserMode","DatabaseModel","performFetchCheckpoints","createAsyncThunk","_","getState","rejectWithValue","notebook","performSaveCheckpoint","editor","browser","selectedDataset","editorState","browserState","performLoadCheckpoint","checkpointSlice","createSlice","name","initialState","reducers","extraReducers","builder","addCase","fulfilled","state","action","performRunCell","index","cells","length","targetCell","editorContent","editorSlice","cellCounter","execCounter","lastExecutedCellId","updateBrowserCellId","addCell","newCell","execStatus","errorStatus","numOfLines","splice","push","changeCell","value","split","deleteCell","pop","swapCell","from","focusedCellIndex","to","step","loadCells","pending","targetCellIndex","meta","arg","hasCellError","shouldUpdateBrowser","rejected","actions","notebookSlice","loading","error","showCheckpointModal","selectDatabaseModel","selectDataset","toggleCheckpointModal","message","browserSlice","raw","table","console","results","rootReducer","combineReducers","reducer","checkpoint","store","configureStore","dispatch","NavBar","useDispatch","className","onClick","tutorialText","src","alt","HomeView","DatasetSelection","demoDatasets","useSelector","useForm","register","handleSubmit","errors","formState","onSubmit","dataset","map","htmlFor","required","type","radioField","RawView","rawData","useMemo","width","mode","theme","readOnly","fontSize","minLines","maxLines","showPrintMargin","TableView","tableData","remarkPlugins","gfm","ConsoleView","consoleOutput","DataBrowser","modes","useState","browserMode","setBrowserMode","handleClick","e","preventDefault","currentTarget","tabButtons","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Raw","Table","Console","TopBar","handleAddCell","handleDeleteCell","handleMoveUpCell","handleMoveDownCell","handleRunCell","handleRunAllCells","handleSaveCheckpoint","handleLoadCheckpoint","data-tip","data-for","place","effect","Cell","setFocusedCellIndex","cellContent","hasError","leftBorder","style","showGutter","onFocus","onChange","wrapEnabled","range","min","max","undefined","Array","keys","num","Editor","numOfCells","result","unwrapResult","i","CheckpointDetail","selectedId","setSelectedId","find","c","role","Checkpoint","ids","checkpointDetail","setError","useEffect","datasetOptions","Mongodb","Psql","NotebookView","App","exact","path","ReactDOM","render","StrictMode","forceRefresh","document","getElementById"],"mappings":"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","file":"static/js/main.b70f5f9e.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst client = axios.create({\r\n  validateStatus: (status) => status < 300,\r\n});\r\n\r\nexport default client;\r\n","import client from './index';\r\nimport { CellExecutionResult } from '../types';\r\n\r\ntype UpdateBrowserPayload = {\r\n  databaseModel: string | null;\r\n  selectedDataset: string;\r\n  editorContent: string;\r\n}\r\n\r\nexport async function updateBrowser(payload: UpdateBrowserPayload): Promise<CellExecutionResult> {\r\n  const { databaseModel, ...request } = payload;\r\n\r\n  const response = await client.post(`/api/${databaseModel}/run`, request);\r\n  return response.data;\r\n}\r\n","import client from './index';\r\n\r\nimport { Checkpoint, CheckpointMeta, DatabaseModel } from '../types';\r\n\r\nexport async function fetchCheckpoints(databaseModel: DatabaseModel): Promise<CheckpointMeta[]> {\r\n  const response = await client.get(`/api/checkpoint?databaseModel=${databaseModel}`);\r\n  return response.data;\r\n}\r\n\r\nexport async function saveCheckpoint(payload: Checkpoint): Promise<void> {\r\n  const timestamp = new Date().toLocaleString();\r\n\r\n  const response = await client.post(\r\n    `/api/checkpoint?databaseModel=${payload.databaseModel}`,\r\n    { ...payload, timestamp },\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function loadCheckpoint(id: string): Promise<Checkpoint> {\r\n  const response = await client.get(`/api/checkpoint/${id}`);\r\n  return response.data;\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { fetchCheckpoints, loadCheckpoint, saveCheckpoint } from '../api/checkpoint';\r\nimport { CheckpointMeta } from '../types';\r\nimport { BrowserState } from './browser';\r\nimport { EditorState } from './editor';\r\nimport { NotebookState } from './notebook';\r\n\r\nexport type CheckpointState = CheckpointMeta[];\r\n\r\nconst initialState: CheckpointState = [];\r\n\r\nexport const performFetchCheckpoints = createAsyncThunk(\r\n  'checkpoint/fetch',\r\n  async (_, { getState, rejectWithValue }) => {\r\n    const { notebook } = getState() as {notebook: NotebookState};\r\n\r\n    if (!notebook.databaseModel) {\r\n      return rejectWithValue('Rejected');\r\n    }\r\n\r\n    try {\r\n      return await fetchCheckpoints(notebook.databaseModel);\r\n    } catch (e) {\r\n      return rejectWithValue(e.response.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const performSaveCheckpoint = createAsyncThunk(\r\n  'checkpoint/save',\r\n  async (_, { getState, rejectWithValue }) => {\r\n    const { editor, notebook, browser } = getState() as {editor: EditorState, notebook: NotebookState, browser: BrowserState};\r\n\r\n    if (!notebook.selectedDataset || !notebook.databaseModel || browser === null) {\r\n      return rejectWithValue('Rejected');\r\n    }\r\n\r\n    try {\r\n      return await saveCheckpoint({\r\n        editorState: editor,\r\n        browserState: browser,\r\n        databaseModel: notebook.databaseModel,\r\n        selectedDataset: notebook.selectedDataset,\r\n      });\r\n    } catch (e) {\r\n      return rejectWithValue(e.response.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const performLoadCheckpoint = createAsyncThunk(\r\n  'checkpoint/load',\r\n  async (id: string, { rejectWithValue }) => {\r\n    try {\r\n      return await loadCheckpoint(id);\r\n    } catch (e) {\r\n      return rejectWithValue(e.response.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const checkpointSlice = createSlice({\r\n  name: 'checkpoint',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder.addCase(performFetchCheckpoints.fulfilled, (state, action) => action.payload);\r\n  },\r\n});\r\n","import { EditorState } from '../slices/editor';\r\nimport { BrowserState } from '../slices/browser';\r\n\r\nexport enum BrowserMode {\r\n  Raw = 'Raw',\r\n  Table = 'Table',\r\n  Console = 'Console',\r\n}\r\n\r\nexport enum DatabaseModel {\r\n  Mongodb = 'mongodb',\r\n  Psql = 'psql'\r\n}\r\n\r\nexport interface Dataset {\r\n  raw?: string;\r\n  table?: string;\r\n  console?: string;\r\n}\r\n\r\nexport interface CellExecutionResult extends Dataset {\r\n  hasCellError: boolean;\r\n  shouldUpdateBrowser: boolean;\r\n}\r\n\r\nexport interface Cell {\r\n  id: number;\r\n  execStatus: number | string;\r\n  errorStatus: boolean;\r\n  editorContent: string;\r\n  numOfLines: number;\r\n}\r\n\r\nexport interface Checkpoint {\r\n  editorState: EditorState;\r\n  browserState: BrowserState;\r\n  databaseModel: DatabaseModel;\r\n  selectedDataset: string;\r\n}\r\n\r\nexport interface CheckpointMeta {\r\n  id: string;\r\n  timestamp: string;\r\n}\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { updateBrowser } from '../api/browser';\r\nimport { Cell } from '../types';\r\nimport { performLoadCheckpoint } from './checkpoint';\r\nimport { NotebookState } from './notebook';\r\n\r\nexport type EditorState = {\r\n  cells: Cell[];\r\n  cellCounter: number;\r\n  execCounter: number;\r\n  lastExecutedCellId: number | null;\r\n  updateBrowserCellId: number | null;\r\n}\r\n\r\nconst initialState: EditorState = {\r\n  cells: [],\r\n  cellCounter: 0,\r\n  execCounter: 0,\r\n  lastExecutedCellId: null,\r\n  updateBrowserCellId: null,\r\n};\r\n\r\nexport const performRunCell = createAsyncThunk(\r\n  'editor/runCell',\r\n  async (index: number, { getState, rejectWithValue }) => {\r\n    const { notebook, editor } = getState() as {notebook: NotebookState, editor: EditorState};\r\n\r\n    if (index >= editor.cells.length || !notebook.selectedDataset) {\r\n      return rejectWithValue(null);\r\n    }\r\n\r\n    const targetCell = editor.cells[index];\r\n\r\n    try {\r\n      return await updateBrowser({\r\n        databaseModel: notebook.databaseModel,\r\n        selectedDataset: notebook.selectedDataset,\r\n        editorContent: targetCell.editorContent,\r\n      });\r\n    } catch (e) {\r\n      return rejectWithValue(e.response.data);\r\n    }\r\n  },\r\n);\r\n\r\nexport const editorSlice = createSlice({\r\n  name: 'editor',\r\n  initialState,\r\n  reducers: {\r\n    addCell: (state: EditorState, { payload }: PayloadAction<number | null>) => {\r\n      state.cellCounter += 1;\r\n\r\n      const newCell = {\r\n        id: state.cellCounter,\r\n        execStatus: ' ',\r\n        errorStatus: false,\r\n        editorContent: '',\r\n        numOfLines: 0,\r\n      };\r\n\r\n      if (payload !== null) {\r\n        // Add a new cell after the focused cell.\r\n        state.cells.splice(payload + 1, 0, newCell);\r\n      } else {\r\n        // If no cell or none focused yet, add the new cell at the end.\r\n        state.cells.push(newCell);\r\n      }\r\n    },\r\n\r\n    changeCell: (state: EditorState, { payload: { index, value } }: PayloadAction<{index: number, value: string}>) => {\r\n      state.cells[index].numOfLines = value.split('\\n').length;\r\n      state.cells[index].editorContent = value;\r\n    },\r\n\r\n    deleteCell: (state: EditorState, { payload }: PayloadAction<number | null>) => {\r\n      if (payload !== null) {\r\n        // Remove focused cell.\r\n        state.cells.splice(payload, 1);\r\n      } else {\r\n        // Remove the cell at the end.\r\n        state.cells.pop();\r\n      }\r\n    },\r\n\r\n    swapCell: (state: EditorState, { payload: { focusedCellIndex, step } }: PayloadAction<{focusedCellIndex: number, step: number}>) => {\r\n      const from = focusedCellIndex;\r\n      const to = from + step;\r\n\r\n      // Swap the cells with `from` index and `to` index.\r\n      state.cells.splice(to, 0, state.cells.splice(from, 1)[0]);\r\n    },\r\n\r\n    loadCells: (state: EditorState, { payload }: PayloadAction<Cell[]>) => {\r\n      state.cells = payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(performRunCell.pending, (state, action) => {\r\n      const targetCellIndex = action.meta.arg;\r\n      const targetCell = state.cells[targetCellIndex];\r\n\r\n      targetCell.execStatus = '*';\r\n      targetCell.errorStatus = false;\r\n    });\r\n\r\n    builder.addCase(performRunCell.fulfilled, (state, action) => {\r\n      const targetCellIndex = action.meta.arg;\r\n      const targetCell = state.cells[targetCellIndex];\r\n\r\n      state.execCounter += 1;\r\n\r\n      targetCell.execStatus = state.execCounter;\r\n      targetCell.errorStatus = action.payload.hasCellError;\r\n      state.lastExecutedCellId = targetCell.id;\r\n      if (action.payload.shouldUpdateBrowser) state.updateBrowserCellId = targetCell.id;\r\n    });\r\n\r\n    builder.addCase(performRunCell.rejected, (state, action) => {\r\n      const targetCellIndex = action.meta.arg;\r\n      const targetCell = state.cells[targetCellIndex];\r\n\r\n      targetCell.execStatus = ' ';\r\n      targetCell.errorStatus = true;\r\n    });\r\n\r\n    builder.addCase(performLoadCheckpoint.fulfilled, (state, action) => action.payload.editorState);\r\n  },\r\n});\r\n\r\nexport const {\r\n  addCell,\r\n  changeCell,\r\n  deleteCell,\r\n  swapCell,\r\n  loadCells,\r\n} = editorSlice.actions;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { performRunCell } from './editor';\r\nimport { performFetchCheckpoints, performLoadCheckpoint, performSaveCheckpoint } from './checkpoint';\r\nimport { DatabaseModel } from '../types';\r\n\r\nexport type NotebookState = {\r\n  loading: boolean;\r\n  error: string | null;\r\n  databaseModel: DatabaseModel | null;\r\n  selectedDataset: string | null;\r\n  showCheckpointModal: boolean;\r\n}\r\n\r\nconst initialState: NotebookState = {\r\n  loading: false,\r\n  error: null,\r\n  databaseModel: null,\r\n  selectedDataset: null,\r\n  showCheckpointModal: false,\r\n};\r\n\r\nexport const notebookSlice = createSlice({\r\n  name: 'notebook',\r\n  initialState,\r\n  reducers: {\r\n    selectDatabaseModel: (state: NotebookState, { payload }: PayloadAction<DatabaseModel | null>) => {\r\n      state.databaseModel = payload;\r\n    },\r\n\r\n    selectDataset: (state: NotebookState, { payload }: PayloadAction<string>) => {\r\n      state.selectedDataset = payload;\r\n    },\r\n\r\n    toggleCheckpointModal: (state: NotebookState, { payload }: PayloadAction<boolean>) => {\r\n      state.showCheckpointModal = payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(performRunCell.pending, (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performRunCell.fulfilled, (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performRunCell.rejected, (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.error.message || null;\r\n    });\r\n\r\n    builder.addCase(performFetchCheckpoints.pending, (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performFetchCheckpoints.fulfilled, (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performFetchCheckpoints.rejected, (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.error.message || null;\r\n    });\r\n\r\n    builder.addCase(performSaveCheckpoint.pending, (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performSaveCheckpoint.fulfilled, (state) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performSaveCheckpoint.rejected, (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.error.message || null;\r\n    });\r\n\r\n    builder.addCase(performLoadCheckpoint.pending, (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    });\r\n\r\n    builder.addCase(performLoadCheckpoint.fulfilled, (state, action) => {\r\n      state.loading = false;\r\n      state.error = null;\r\n      state.selectedDataset = action.payload.selectedDataset;\r\n    });\r\n\r\n    builder.addCase(performLoadCheckpoint.rejected, (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.error.message || null;\r\n    });\r\n  },\r\n});\r\n\r\nexport const {\r\n  selectDatabaseModel,\r\n  selectDataset,\r\n  toggleCheckpointModal,\r\n} = notebookSlice.actions;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { performRunCell } from './editor';\r\nimport { performLoadCheckpoint } from './checkpoint';\r\n\r\nexport type BrowserState = {\r\n  raw: string;\r\n  table: string;\r\n  console: string;\r\n}\r\n\r\nconst initialState: BrowserState = {\r\n  raw: '',\r\n  table: '',\r\n  console: '',\r\n};\r\n\r\nexport const browserSlice = createSlice({\r\n  name: 'browser',\r\n  initialState: initialState as BrowserState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder.addCase(performRunCell.fulfilled, (state, action) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      const { hasCellError, shouldUpdateBrowser, ...results } = action.payload;\r\n      return { ...state, ...results };\r\n    });\r\n\r\n    builder.addCase(performLoadCheckpoint.fulfilled, (state, action) => action.payload.browserState);\r\n  },\r\n});\r\n","import { combineReducers, configureStore } from '@reduxjs/toolkit';\r\n\r\nimport { notebookSlice } from './slices/notebook';\r\nimport { editorSlice } from './slices/editor';\r\nimport { browserSlice } from './slices/browser';\r\nimport { checkpointSlice } from './slices/checkpoint';\r\n\r\nconst rootReducer = combineReducers({\r\n  notebook: notebookSlice.reducer,\r\n  browser: browserSlice.reducer,\r\n  editor: editorSlice.reducer,\r\n  checkpoint: checkpointSlice.reducer,\r\n});\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>;\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n\r\nexport const { dispatch } = store;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { selectDatabaseModel } from '../slices/notebook';\r\n\r\nexport default function NavBar(): React.ReactElement {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <nav className=\"flex flex-row items-center py-1 bg-blue-600 border-b-8 border-blue-200\">\r\n      <div className=\"flex flex-row items-center gap-6 text-white\">\r\n        <Link\r\n          to=\"/\"\r\n          onClick={() => dispatch(selectDatabaseModel(null))}\r\n          className=\"no-underline py-2 px-8 hover:text-gray-300\"\r\n        >\r\n          <h1 className=\"font-bold text-3xl\">Data Jupyter</h1>\r\n        </Link>\r\n\r\n        <Link\r\n          to=\"/postgresql\"\r\n          className=\"underline py-2 text-blue-200 hover:text-white\"\r\n        >\r\n          <h1 className=\"font-bold text-l\">PostgreSQL</h1>\r\n        </Link>\r\n\r\n        <Link\r\n          to=\"/mongodb\"\r\n          className=\"underline py-2 text-blue-200 hover:text-white\"\r\n        >\r\n          <h1 className=\"font-bold text-l\">MongoDB</h1>\r\n        </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nconst tutorialText = (\r\n  <div>\r\n    <h1 className=\"my-2 text-5xl text-center font-bold\">Instructions</h1>\r\n    <br />\r\n    <p>Data Jupyter is an interactive web application for simplifying the task of data processing on MongoDB and PostgreSQL databases. The main interface of Data Jupyter is modelled after the popular Jupyter Notebook, making it familiar to many data analysts. Data Jupyter also offers support for data traceability through its integrated checkpoint system and by enforcing a modular style of data processing.</p>\r\n    <br />\r\n    <h2 className=\"my-2 text-3xl font-semibold\">Loading a dataset</h2>\r\n    <ol className=\"list-decimal\">\r\n      <li>\r\n        Choose a demo dataset (e.g. nobel_prizes_incorrect) and press Select.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839332-f3ba1a80-d34b-11eb-8157-eadb74b66a2b.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        Add a new cell in the editor by clicking the + icon.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839450-295f0380-d34c-11eb-889f-c764b61594a4.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        In the new cell, type `show = col.find()` to make the Data Browser show all documents in the collection.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839489-3976e300-d34c-11eb-9a86-a827cbf29119.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        Click the single arrow icon to run the cell.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839560-5e6b5600-d34c-11eb-82d1-1e807002b15c.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        The data will be displayed on the Raw tab.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839638-865ab980-d34c-11eb-8de6-d7bb0b7bc4ee.png\" alt=\"\" />\r\n      </li>\r\n    </ol>\r\n    <br />\r\n    <h2 className=\"my-2 text-3xl font-semibold\">Loading a checkpoint</h2>\r\n    <p>Data traceability is a very important aspect in data analytics. Data Jupyter supported this by integrating a checkpoint system.</p>\r\n    <ol className=\"list-decimal\">\r\n      <li>\r\n        Click on the icon to the right.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839878-07b24c00-d34d-11eb-83e3-c74ebec64cc3.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        Select the checkpoint “6/15/2021, 1:09:23 PM” and click Load.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839882-0aad3c80-d34d-11eb-8de1-05098c8e4b84.png\" alt=\"\" />\r\n      </li>\r\n      <li>\r\n        The notebook state will be restored to that checkpoint.\r\n        <img src=\"https://user-images.githubusercontent.com/72721378/122839900-139e0e00-d34d-11eb-9256-2b475d6f0404.png\" alt=\"\" />\r\n      </li>\r\n    </ol>\r\n  </div>\r\n);\r\n\r\nexport default function HomeView(): React.ReactElement {\r\n  return (\r\n    <div className=\"grid grid-cols-4\">\r\n      <div />\r\n\r\n      <div className=\"col-span-2 py-8 px-12 bg-white shadow-lg rounded-lg my-20\">\r\n        {tutorialText}\r\n      </div>\r\n\r\n      <div />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm, SubmitHandler, FieldValues } from 'react-hook-form';\r\n\r\nimport { AppState } from '../store';\r\nimport { selectDataset } from '../slices/notebook';\r\n\r\ninterface IProps {\r\n  demoDatasets: string[];\r\n}\r\n\r\nfunction DatasetSelection({ demoDatasets }: IProps): React.ReactElement {\r\n  const dispatch = useDispatch();\r\n  const selectedDataset = useSelector<AppState, string | null>((state) => state.notebook.selectedDataset);\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubmit: SubmitHandler<FieldValues> = (data) => dispatch(selectDataset(data.dataset));\r\n\r\n  const radioField = (name: string) => (\r\n    <label key={name} htmlFor={name}>\r\n      <input\r\n        {...register('dataset', { required: true })}\r\n        id={name}\r\n        type=\"radio\"\r\n        value={name}\r\n      />\r\n      <span className={`ml-2 inline-block ${selectedDataset === name && 'font-bold'}`}>\r\n        {name}\r\n      </span>\r\n    </label>\r\n  );\r\n\r\n  return (\r\n    <form\r\n      className=\"flex flex-col items-center justify-center\"\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      {demoDatasets.map((name) => radioField(name))}\r\n      {errors.dataset && <span className=\"py-2 text-red-500\">Please choose a dataset</span>}\r\n      <button type=\"submit\" className=\"button-relief\">\r\n        Select\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default DatasetSelection;\r\n","import React, { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport AceEditor from 'react-ace';\r\nimport 'ace-builds/src-noconflict/mode-json';\r\nimport 'ace-builds/src-noconflict/theme-monokai';\r\n\r\nimport { AppState } from '../../store';\r\n\r\nexport default function RawView(): React.ReactElement {\r\n  const rawData = useSelector<AppState, string>((state) => (state.browser.raw));\r\n\r\n  const codeView = useMemo(() => (\r\n    <AceEditor\r\n      width=\"100%\"\r\n      mode=\"json\"\r\n      theme=\"monokai\"\r\n      readOnly\r\n      fontSize={16}\r\n      minLines={39}\r\n      maxLines={39}\r\n      showPrintMargin={false}\r\n      value={rawData}\r\n    />\r\n  ), [rawData]);\r\n\r\n  return codeView;\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport gfm from 'remark-gfm';\r\n\r\nimport { AppState } from '../../store';\r\n\r\nexport default function TableView(): React.ReactElement {\r\n  const tableData = useSelector<AppState, string>((state) => (state.browser.table));\r\n\r\n  const tableView = useMemo(() => (\r\n    <div className=\"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md whitespace-nowrap overflow-scroll\">\r\n      <ReactMarkdown remarkPlugins={[gfm]}>\r\n        {tableData}\r\n      </ReactMarkdown>\r\n    </div>\r\n  ), [tableData]);\r\n\r\n  return tableView;\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { AppState } from '../../store';\r\n\r\nexport default function ConsoleView(): React.ReactElement {\r\n  const error = useSelector<AppState, string | null>((state) => state.notebook.error);\r\n  const selectedDataset = useSelector<AppState, string | null>((state) => state.notebook.selectedDataset);\r\n\r\n  const consoleOutput = useSelector<AppState, string>((state) => (state.browser.console));\r\n\r\n  return (\r\n    <div className=\"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-scroll\">\r\n      {error && <span className=\"py-2 text-red-500\">{error}</span>}\r\n      {(!selectedDataset) && '\\nNo dataset selected. Please select a dataset first.'}\r\n      <span className=\"font-mono\">{consoleOutput}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { AppState } from '../../store';\r\nimport { BrowserMode } from '../../types';\r\nimport RawView from './RawView';\r\nimport TableView from './TableView';\r\nimport ConsoleView from './ConsoleView';\r\n\r\ninterface IProps {\r\n  modes: BrowserMode[];\r\n}\r\n\r\nexport default function DataBrowser({ modes }: IProps): React.ReactElement {\r\n  const loading = useSelector<AppState, boolean>((state) => state.notebook.loading);\r\n\r\n  const [browserMode, setBrowserMode] = useState<BrowserMode>(modes[0]);\r\n\r\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.preventDefault();\r\n    setBrowserMode(e.currentTarget.name as BrowserMode);\r\n  };\r\n\r\n  const tabButtons = modes.map((mode) => (\r\n    <button\r\n      type=\"button\"\r\n      name={mode}\r\n      onClick={handleClick}\r\n      className={`py-2 px-4 inline-block font-semibold ${(browserMode === mode) ? 'text-blue-600' : 'text-gray-400'}`}\r\n    >\r\n      {mode}\r\n    </button>\r\n  ));\r\n\r\n  return (\r\n    <div className=\"px-4 max-w-4xl min-h-screen\">\r\n      <div className=\"flex flex-row justify-between w-full bg-gray-50 border border-gray-300 rounded-t-md\">\r\n        <div className=\"text-left\">\r\n          {tabButtons}\r\n        </div>\r\n        {loading && (\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-700 m-2 outline-none animate-spin transform rotate-180\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n          </svg>\r\n        )}\r\n      </div>\r\n      {browserMode === BrowserMode.Raw && <RawView />}\r\n      {browserMode === BrowserMode.Table && <TableView />}\r\n      {browserMode === BrowserMode.Console && <ConsoleView />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\ninterface IProps {\r\n  handleAddCell: () => void;\r\n  handleDeleteCell: () => void;\r\n  handleMoveUpCell: () => void;\r\n  handleMoveDownCell: () => void;\r\n  handleRunCell: () => void;\r\n  handleRunAllCells: () => void;\r\n  handleSaveCheckpoint: () => void;\r\n  handleLoadCheckpoint: () => void;\r\n}\r\n\r\nexport default function TopBar({\r\n  handleAddCell,\r\n  handleDeleteCell,\r\n  handleMoveUpCell,\r\n  handleMoveDownCell,\r\n  handleRunCell,\r\n  handleRunAllCells,\r\n  handleSaveCheckpoint,\r\n  handleLoadCheckpoint,\r\n}: IProps): React.ReactElement {\r\n  return (\r\n    <div className=\"px-4 max-w-4xl max-h-screen bg-gray-50 border border-gray-300 rounded-md text-left\">\r\n      <div className=\"flex flex-row justify-between\">\r\n        <div className=\"flex flex-row\">\r\n          <svg onClick={handleAddCell} data-tip=\"Add New Cell\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n          </svg>\r\n          <svg onClick={handleDeleteCell} data-tip=\"Delete Cell\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-red-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n          </svg>\r\n          <svg onClick={handleMoveUpCell} data-tip=\"Move Cell Up\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 11l5-5m0 0l5 5m-5-5v12\" />\r\n          </svg>\r\n          <svg onClick={handleMoveDownCell} data-tip=\"Move Cell Down\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 13l-5 5m0 0l-5-5m5 5V6\" />\r\n          </svg>\r\n          <svg onClick={handleRunCell} data-tip=\"Run Cell\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n          </svg>\r\n          <svg onClick={handleRunAllCells} data-tip=\"Run All Cells\" data-for=\"topButtons\" xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\r\n          </svg>\r\n        </div>\r\n        <div className=\"flex flex-row\">\r\n          <svg onClick={handleSaveCheckpoint} xmlns=\"http://www.w3.org/2000/svg\" data-tip=\"Save Checkpoint\" data-for=\"topButtons\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n          </svg>\r\n          <svg onClick={handleLoadCheckpoint} xmlns=\"http://www.w3.org/2000/svg\" data-tip=\"Load Checkpoint\" data-for=\"topButtons\" className=\"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <ReactTooltip id=\"topButtons\" place=\"top\" effect=\"solid\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AceEditor from 'react-ace';\r\nimport 'ace-builds/src-noconflict/mode-python';\r\nimport 'ace-builds/src-noconflict/theme-chrome';\r\n\r\nimport { AppState } from '../../store';\r\nimport { changeCell } from '../../slices/editor';\r\n\r\ninterface IProps {\r\n  index: number;\r\n  setFocusedCellIndex: (value: number) => void;\r\n}\r\n\r\nfunction Cell({ index, setFocusedCellIndex }: IProps): React.ReactElement {\r\n  const dispatch = useDispatch();\r\n\r\n  const execStatus = useSelector<AppState, string | number>((state) => (\r\n    state.editor.cells[index].execStatus\r\n  ));\r\n\r\n  const cellContent = useSelector<AppState, string>((state) => (\r\n    state.editor.cells[index].editorContent\r\n  ));\r\n\r\n  const numOfLines = useSelector<AppState, number>((state) => (\r\n    state.editor.cells[index].numOfLines\r\n  ));\r\n\r\n  const hasError = useSelector<AppState, boolean>((state) => (\r\n    state.editor.cells[index].errorStatus\r\n  ));\r\n\r\n  const islastExecuted = useSelector<AppState, boolean>((state) => (\r\n    state.editor.lastExecutedCellId === state.editor.cells[index].id\r\n  ));\r\n\r\n  const hasUpdatedBrowser = useSelector<AppState, boolean>((state) => (\r\n    state.editor.updateBrowserCellId === state.editor.cells[index].id\r\n  ));\r\n\r\n  // Determine color of the cell's left border.\r\n  let leftBorder = '';\r\n  if (islastExecuted) leftBorder = 'border-l-4 border-green-500';\r\n  if (hasUpdatedBrowser) leftBorder = 'border-l-4 border-blue-500';\r\n  if (hasError) leftBorder = 'border-l-4 border-red-500';\r\n\r\n  return (\r\n    <div className={`flex flex-col p-2 ${leftBorder} rounded shadow-md relative hover:shadow-lg overflow-hidden`}>\r\n      <div className=\"flex flex-row justify-between items-start\">\r\n        <span className=\"text-lg mr-4 min-w-max\">{`[${execStatus}]: `}</span>\r\n        <div style={{ width: '93%' }} className={`mt-2 ring-4 ring-gray-400 ${numOfLines <= 5 ? 'focus-within:ring-blue-500' : 'focus-within:ring-yellow-500'} relative`}>\r\n          <AceEditor\r\n            width=\"100%\"\r\n            mode=\"python\"\r\n            theme=\"chrome\"\r\n            showGutter={false}\r\n            fontSize={16}\r\n            minLines={1}\r\n            maxLines={15}\r\n            value={cellContent}\r\n            onFocus={() => setFocusedCellIndex(index)}\r\n            onChange={(value: string) => dispatch(changeCell({ index, value }))}\r\n            wrapEnabled\r\n          />\r\n        </div>\r\n      </div>\r\n      {numOfLines > 5 && <span className=\"mt-2 text-yellow-500 text-right font-bold\">Recommended maximum number of lines is 5</span>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cell;\r\n","/**\r\n * Create a range of numbers.\r\n *\r\n * @param min The first number in the range.\r\n * @param max The last number in the range.\r\n * @returns The range.\r\n */\r\nexport function range(min: number, max?: number): number[] {\r\n  // If only one number is provided, start at zero\r\n  if (max === undefined) {\r\n    max = min;\r\n    min = 0;\r\n  }\r\n\r\n  // Create a ranged array\r\n  return Array.from(new Array(max - min).keys()).map((num) => num + min);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { unwrapResult } from '@reduxjs/toolkit';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { AppState, dispatch } from '../../store';\r\nimport {\r\n  addCell,\r\n  deleteCell,\r\n  swapCell,\r\n  performRunCell,\r\n} from '../../slices/editor';\r\nimport { performSaveCheckpoint } from '../../slices/checkpoint';\r\nimport { toggleCheckpointModal } from '../../slices/notebook';\r\nimport TopBar from './TopBar';\r\nimport Cell from './Cell';\r\nimport { range } from '../../utils';\r\n\r\nexport default function Editor(): React.ReactElement {\r\n  const numOfCells = useSelector<AppState, number>((state) => state.editor.cells.length);\r\n\r\n  const [focusedCellIndex, setFocusedCellIndex] = useState<number | null>(null);\r\n\r\n  const handleAddCell = () => dispatch(addCell(focusedCellIndex));\r\n\r\n  const handleDeleteCell = () => {\r\n    dispatch(deleteCell(focusedCellIndex));\r\n    setFocusedCellIndex(null);\r\n  };\r\n\r\n  const handleMoveUpCell = () => {\r\n    if (focusedCellIndex !== null && focusedCellIndex > 0) {\r\n      dispatch(swapCell({ focusedCellIndex, step: -1 }));\r\n      setFocusedCellIndex(focusedCellIndex - 1);\r\n    }\r\n  };\r\n\r\n  const handleMoveDownCell = () => {\r\n    if (focusedCellIndex !== null && focusedCellIndex < (numOfCells - 1)) {\r\n      dispatch(swapCell({ focusedCellIndex, step: 1 }));\r\n      setFocusedCellIndex(focusedCellIndex + 1);\r\n    }\r\n  };\r\n\r\n  const handleRunCell = () => {\r\n    if (focusedCellIndex !== null) {\r\n      // Run the focused cell.\r\n      dispatch(performRunCell(focusedCellIndex));\r\n    } else {\r\n      // Run the last cell.\r\n      dispatch(performRunCell(numOfCells - 1));\r\n    }\r\n  };\r\n\r\n  const handleRunAllCells = async () => {\r\n    for (const index of range(numOfCells)) {\r\n      try {\r\n        const result = await dispatch(performRunCell(index));\r\n        const { hasCellError } = unwrapResult(result);\r\n\r\n        // Stop running subsequent cells if there is an error.\r\n        if (hasCellError) break;\r\n      } catch (e) {\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveCheckpoint = () => {\r\n    dispatch(performSaveCheckpoint());\r\n  };\r\n\r\n  const handleLoadCheckpoint = () => {\r\n    dispatch(toggleCheckpointModal(true));\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <TopBar\r\n        handleAddCell={handleAddCell}\r\n        handleDeleteCell={handleDeleteCell}\r\n        handleMoveUpCell={handleMoveUpCell}\r\n        handleMoveDownCell={handleMoveDownCell}\r\n        handleRunCell={handleRunCell}\r\n        handleRunAllCells={handleRunAllCells}\r\n        handleSaveCheckpoint={handleSaveCheckpoint}\r\n        handleLoadCheckpoint={handleLoadCheckpoint}\r\n      />\r\n      <div className=\"px-4 max-w-4xl h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-y-scroll\">\r\n        <div className=\"flex flex-col m-2 gap-4\">\r\n          {range(numOfCells).map((i) => <Cell key={i} index={i} setFocusedCellIndex={setFocusedCellIndex} />)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { SetStateAction } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { AppState } from '../../store';\r\nimport { CheckpointMeta } from '../../types';\r\n\r\ninterface IProps {\r\n    id: string;\r\n    selectedId: string | null;\r\n    setSelectedId: React.Dispatch<SetStateAction<string | null>>;\r\n}\r\n\r\nexport default function CheckpointDetail({ id, selectedId, setSelectedId }: IProps): React.ReactElement {\r\n  const checkpoint = useSelector<AppState, CheckpointMeta | undefined>((state) => (\r\n    state.checkpoint.find((c) => c.id === id)\r\n  ));\r\n\r\n  return (\r\n    <li onClick={() => setSelectedId(id)} className={`p-4 hover:bg-gray-100 cursor-pointer text-center ${selectedId === id && 'bg-gray-100'}`} role=\"presentation\">\r\n      {checkpoint?.timestamp}\r\n    </li>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { AppState } from '../../store';\r\nimport { performFetchCheckpoints, performLoadCheckpoint } from '../../slices/checkpoint';\r\nimport { toggleCheckpointModal } from '../../slices/notebook';\r\nimport CheckpointDetail from './CheckpointDetail';\r\n\r\nexport default function Checkpoint(): React.ReactElement {\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector<AppState, boolean>((state) => state.notebook.loading);\r\n  const ids = useSelector<AppState, string[]>((state) => (\r\n    state.checkpoint.map((checkpointDetail) => checkpointDetail.id)\r\n  ));\r\n  const [selectedId, setSelectedId] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(performFetchCheckpoints());\r\n  }, []);\r\n\r\n  const handleLoadCheckpoint = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedId) {\r\n      setError('Invalid selection!');\r\n      return;\r\n    }\r\n    dispatch(performLoadCheckpoint(selectedId));\r\n    dispatch(toggleCheckpointModal(false));\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-400 h-screen w-screen flex justify-center items-center\">\r\n      <div className=\"mb-24 bg-white rounded shadow-lg w-2/12\">\r\n        <div className=\"border-b px-4 py-2 flex justify-between items-center\">\r\n          <h3 className=\"font-semibold text-lg uppercase\">Load checkpoint</h3>\r\n          <svg onClick={() => dispatch(toggleCheckpointModal(false))} xmlns=\"http://www.w3.org/2000/svg\" className=\"button-icon hover:text-red-700\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          </svg>\r\n        </div>\r\n        <div className=\"flex flex-col justify-center\">\r\n          {ids.length > 0\r\n            ? (\r\n              <ul className=\"divide-y divide-gray-300\">\r\n                {ids.map((id) => <CheckpointDetail key={id} id={id} selectedId={selectedId} setSelectedId={setSelectedId} />)}\r\n              </ul>\r\n            )\r\n            : <span className=\"m-4\">{loading ? 'Loading...' : 'No checkpoint has been created'}</span>}\r\n        </div>\r\n        <div className=\"flex justify-end items-center w-100 border-t px-2\">\r\n          {error && <span className=\"px-4 py-2 text-red-500\">{error}</span>}\r\n          <button onClick={handleLoadCheckpoint} type=\"submit\" className=\"button bg-blue-600 hover:bg-blue-700\">Load</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { AppState } from '../store';\r\nimport { BrowserMode, DatabaseModel } from '../types';\r\nimport DatasetSelection from '../components/DatasetSelection';\r\nimport DataBrowser from '../components/DataBrowser';\r\nimport Editor from '../components/Editor';\r\nimport Checkpoint from '../components/Checkpoint';\r\nimport { selectDatabaseModel } from '../slices/notebook';\r\n\r\nconst datasetOptions = {\r\n  [DatabaseModel.Mongodb]: ['nobel_prizes_incorrect', 'movies_incorrect'],\r\n  [DatabaseModel.Psql]: ['courses', 'enrolls', 'professors', 'students'],\r\n};\r\n\r\ninterface IProps {\r\n  databaseModel: DatabaseModel;\r\n}\r\n\r\nfunction NotebookView({ databaseModel }: IProps): React.ReactElement {\r\n  const dispatch = useDispatch();\r\n\r\n  const showCheckpointModal = useSelector<AppState, boolean>(\r\n    (state) => state.notebook.showCheckpointModal,\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(selectDatabaseModel(databaseModel));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {showCheckpointModal ? <Checkpoint /> : (\r\n        <main className=\"h-full container mx-auto px-4 py-4 text-center\">\r\n          <h1 className=\"font-bold text-5xl p-4 border-b-2 border-gray-300\">\r\n            {databaseModel === DatabaseModel.Mongodb ? 'MongoDB' : 'PostgreSQL'}\r\n          </h1>\r\n\r\n          <div className=\"pt-16\">\r\n            <h1 className=\"font-bold text-3xl uppercase p-4\">Choose a demo dataset</h1>\r\n            <DatasetSelection demoDatasets={datasetOptions[databaseModel]} />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6 py-4\">\r\n            <div>\r\n              <h1 className=\"font-bold text-3xl uppercase px-4 py-6\">Editor</h1>\r\n              <Editor />\r\n            </div>\r\n\r\n            <div>\r\n              <h1 className=\"font-bold text-3xl uppercase px-4 py-6\">Data Browser</h1>\r\n              {databaseModel === DatabaseModel.Psql\r\n                ? <DataBrowser modes={[BrowserMode.Table, BrowserMode.Console]} />\r\n                : <DataBrowser modes={[BrowserMode.Raw, BrowserMode.Table, BrowserMode.Console]} />}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NotebookView;\r\n","import React from 'react';\r\nimport {\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\n\r\nimport NavBar from './components/NavBar';\r\nimport { DatabaseModel } from './types';\r\nimport HomeView from './views/HomeView';\r\nimport NotebookView from './views/NotebookView';\r\n\r\nfunction App(): React.ReactElement {\r\n  return (\r\n    <div className=\"h-screen w-screen flex flex-col\">\r\n      <NavBar />\r\n      <Switch>\r\n        <Route exact path={['/', '/index']}>\r\n          <HomeView />\r\n        </Route>\r\n\r\n        <Route exact path=\"/postgresql\">\r\n          <NotebookView key=\"postgresql\" databaseModel={DatabaseModel.Psql} />\r\n        </Route>\r\n\r\n        <Route exact path=\"/mongodb\">\r\n          <NotebookView key=\"mongodb\" databaseModel={DatabaseModel.Mongodb} />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.css';\r\nimport { store } from './store';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      {/* Set `forceRefresh` so that redux state will reset on page change */}\r\n      <BrowserRouter forceRefresh>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}