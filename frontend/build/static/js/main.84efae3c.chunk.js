(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(38),c=n.n(a),s=(n(109),n(7)),l=n(13),i=n(17),u=n(104),d=n(3),b=n.n(d),x=n(19),p=n(6),j=n(99),f=n.n(j).a.create({validateStatus:function(e){return e<300}});function h(e){return m.apply(this,arguments)}function m(){return(m=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/api/v1/load",{selectedDataset:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/api/v1/update",{editorContent:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(9),g=Object(i.c)({name:"editor",initialState:{cells:[],cellCounter:0,execCounter:0,focusedCellId:null},reducers:{focusCell:function(e,t){var n=t.payload;e.focusedCellId=n||null},addCell:function(e){e.cellCounter+=1;var t={id:e.cellCounter,execStatus:"",editorContent:""};if(e.focusedCellId){var n=e.cells.findIndex((function(t){return t.id===e.focusedCellId}));n>-1&&e.cells.splice(n+1,0,t)}else e.cells.push(t)},changeCell:function(e,t){var n=t.payload,r=e.cells.findIndex((function(t){return t.id===e.focusedCellId}));r>-1&&(e.cells[r].editorContent=n)},setCellStatus:function(e,t){var n,r=t.payload;r.execStatus?n=r.execStatus:(e.execCounter+=1,n=e.execCounter);var o=e.cells.findIndex((function(e){return e.id===r.id}));o>-1&&(e.cells[o].execStatus=n)},deleteCell:function(e){var t=e.cells.findIndex((function(t){return t.id===e.focusedCellId}));t>-1&&e.cells.splice(t,1)},moveCell:function(e,t){var n=t.payload,r=e.cells.findIndex((function(t){return t.id===e.focusedCellId})),o=Math.min(Math.max(r+n,0),e.cells.length-1);r>-1&&e.cells.splice(o,0,e.cells.splice(r,1)[0])}}}),k=g.actions,y=k.focusCell,C=k.addCell,N=k.changeCell,S=k.setCellStatus,L=k.deleteCell,B=k.moveCell,M=Object(i.b)("editor/runCell",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,o,a,c,s,l,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,o=n.dispatch,a=n.rejectWithValue,c=r(),s=c.editor,l=s.cells.find((function(e){return e.id===s.focusedCellId}))){e.next=5;break}return e.abrupt("return",a("Rejected"));case 5:return e.prev=5,o(S({id:l.id,execStatus:"*"})),e.next=9,v(l.editorContent);case 9:return i=e.sent,o(S({id:l.id})),e.abrupt("return",i);case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",a(e.t0.response.data));case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(i.b)("editor/runAllCells",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,o,a,c,s,l,i,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.dispatch,o=n.getState,a=n.rejectWithValue,c=o(),s=c.editor,e.prev=2,i=Object(w.a)(s.cells),e.prev=4,i.s();case 6:if((u=i.n()).done){e.next=15;break}return d=u.value,r(S({id:d.id,execStatus:"*"})),e.next=11,v(d.editorContent);case 11:l=e.sent,r(S({id:d.id}));case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.abrupt("return",l);case 26:return e.prev=26,e.t1=e.catch(2),e.abrupt("return",a(e.t1.response.data));case 29:case"end":return e.stop()}}),e,null,[[2,26],[4,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()),I=["selectedDataset"],_=Object(i.b)("notebook/selectDataset",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,h(t);case 4:return o=e.sent,e.abrupt("return",Object(x.a)(Object(x.a)({},o),{},{selectedDataset:t}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(i.c)({name:"notebook",initialState:{loading:!1,error:null,selectedDataset:null,results:null},reducers:{selectDataset:function(e,t){var n=t.payload;e.selectedDataset=n}},extraReducers:function(e){e.addCase(_.pending,(function(e){e.loading=!0,e.error=null})),e.addCase(_.fulfilled,(function(e,t){var n=t.payload,r=n.selectedDataset,o=Object(u.a)(n,I);e.selectedDataset=r,e.results=o,e.loading=!1,e.error=null})),e.addCase(_.rejected,(function(e,t){e.loading=!1,e.error=t.error.message||null})),e.addCase(M.pending,(function(e){e.loading=!0,e.error=null})),e.addCase(M.fulfilled,(function(e,t){e.results=t.payload,e.loading=!1,e.error=null})),e.addCase(M.rejected,(function(e,t){e.loading=!1,e.error=t.error.message||null})),e.addCase(D.pending,(function(e){e.loading=!0,e.error=null})),e.addCase(D.fulfilled,(function(e,t){t.payload&&(e.results=t.payload),e.loading=!1,e.error=null})),e.addCase(D.rejected,(function(e,t){e.loading=!1,e.error=t.error.message||null}))}}),W=(R.actions.selectDataset,Object(l.b)({notebook:R.reducer,editor:g.reducer})),A=Object(i.a)({reducer:W}),T=n(103),z=n(1);var E,V=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.notebook.error})),n=Object(T.a)(),r=n.register,o=n.handleSubmit,a=n.formState.errors;return Object(z.jsxs)("form",{className:"flex flex-col items-center justify-center",onSubmit:o((function(t){e(_(t.dataset))})),children:[Object(z.jsxs)("label",{htmlFor:"movies_incorrect",children:[Object(z.jsx)("input",Object(x.a)(Object(x.a)({},r("dataset",{required:!0})),{},{id:"movies_incorrect",type:"radio",value:"movies_incorrect"})),Object(z.jsx)("span",{className:"ml-2 inline-block",children:"movies_incorrect"})]}),Object(z.jsxs)("label",{htmlFor:"nobel_prizes_incorrect",children:[Object(z.jsx)("input",Object(x.a)(Object(x.a)({},r("dataset",{required:!0})),{},{id:"nobel_prizes_incorrect",type:"radio",value:"nobel_prizes_incorrect"})),Object(z.jsx)("span",{className:"ml-2 inline-block",children:"nobel_prizes_incorrect"})]}),a.dataset&&Object(z.jsx)("span",{className:"py-2 text-red-500",children:"Please choose a dataset"}),t&&Object(z.jsx)("span",{className:"py-2 text-red-500",children:t}),Object(z.jsx)("button",{type:"submit",className:"button-relief",children:"Load"})]})},H=n(12),F=n(39),J=n.n(F),P=(n(138),n(139),n(100)),q=n.n(P),G=n(101),U=n.n(G);!function(e){e.Raw="RAW",e.Table="TABLE",e.Console="CONSOLE"}(E||(E={}));var K=function(){var e=Object(r.useState)(E.Raw),t=Object(H.a)(e,2),n=t[0],o=t[1],a=Object(s.d)((function(e){return e.notebook.results?e.notebook.results.raw:""})),c=Object(s.d)((function(e){return e.notebook.results?e.notebook.results.table:""})),l=Object(s.d)((function(e){return e.notebook.results?e.notebook.results.console:""})),i=function(e){e.preventDefault(),o(e.currentTarget.name)},u=Object(r.useMemo)((function(){return Object(z.jsx)(J.a,{width:"100%",mode:"json",theme:"monokai",readOnly:!0,fontSize:16,minLines:39,maxLines:39,showPrintMargin:!1,value:a})}),[a]),d=Object(r.useMemo)((function(){return Object(z.jsx)("div",{className:"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md whitespace-nowrap overflow-scroll",children:Object(z.jsx)(q.a,{remarkPlugins:[U.a],children:c})})}),[c]),b=Object(z.jsx)("div",{className:"px-4 w-full h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-scroll",children:Object(z.jsx)("span",{className:"font-mono",children:l})});return Object(z.jsxs)("div",{className:"px-4 max-w-4xl min-h-screen",children:[Object(z.jsx)("div",{className:"py-2",children:Object(z.jsx)("h1",{className:"font-bold text-3xl uppercase p-4",children:"Data Browser"})}),Object(z.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-t-md text-left",children:[Object(z.jsx)("button",{type:"button",name:E.Raw,onClick:i,className:"py-2 px-4 inline-block font-semibold ".concat(n===E.Raw?"text-blue-600":"text-gray-400"),children:"Raw"}),Object(z.jsx)("button",{type:"button",name:E.Table,onClick:i,className:"py-2 px-4 inline-block font-semibold ".concat(n===E.Table?"text-blue-600":"text-gray-400"),children:"Table"}),Object(z.jsx)("button",{type:"button",name:E.Console,onClick:i,className:"py-2 px-4 inline-block font-semibold ".concat(n===E.Console?"text-blue-600":"text-gray-400"),children:"Console"})]}),n===E.Raw&&u,n===E.Table&&d,n===E.Console&&b]})},Q=n(102);n(269),n(270);var X=function(e){var t=e.id,n=Object(s.c)(),r=Object(s.d)((function(e){return e.editor.cells.find((function(e){return e.id===t}))}));return Object(z.jsxs)("div",{className:"flex flex-row justify-between items-start p-2 rounded overflow-hidden shadow-md relative hover:shadow-lg",children:[Object(z.jsx)("span",{className:"italic text-lg mr-4 min-w-max",children:"[".concat((null===r||void 0===r?void 0:r.execStatus)?r.execStatus:" ","]: ")}),Object(z.jsx)("div",{style:{width:"93%"},className:"mt-2 ring-4 ring-gray-400 focus-within:ring-blue-500 relative",children:Object(z.jsx)(J.a,{width:"100%",mode:"python",theme:"chrome",showGutter:!1,fontSize:16,minLines:1,maxLines:100,onFocus:function(){return n(y(null===r||void 0===r?void 0:r.id))},onChange:function(e){return n(N(e))},wrapEnabled:!0})})]})};var Y=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.notebook.loading})),n=Object(s.d)((function(e){return e.editor.cells.map((function(e){return e.id}))}),s.b);return Object(z.jsxs)("div",{className:"flex flex-col",children:[Object(z.jsx)("div",{className:"py-2",children:Object(z.jsx)("h1",{className:"font-bold text-3xl uppercase p-4",children:"Editor"})}),Object(z.jsx)("div",{className:"px-4 max-w-4xl max-h-screen bg-gray-50 border border-gray-300 block rounded-md text-left",children:Object(z.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(z.jsxs)("div",{className:"flex flex-row",children:[Object(z.jsx)("svg",{onClick:function(){return e(C())},"data-tip":"Add New","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),Object(z.jsx)("svg",{onClick:function(){return e(B(-1))},"data-tip":"Move Up","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),Object(z.jsx)("svg",{onClick:function(){return e(B(1))},"data-tip":"Move Down","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),Object(z.jsx)("svg",{onClick:function(){return e(M())},"data-tip":"Run Selected","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Object(z.jsx)("svg",{onClick:function(){return e(D())},"data-tip":"Run All","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-blue-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),Object(z.jsx)("svg",{onClick:function(){return e(L())},"data-tip":"Delete Selected","data-for":"topButtons",xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-500 hover:text-red-700 hover:bg-gray-200 m-2 cursor-pointer outline-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]}),t&&Object(z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-700 m-2 outline-none animate-spin transform rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})]})}),Object(z.jsx)("div",{className:"px-4 max-w-4xl h-80vh bg-gray-50 border border-gray-300 block rounded-md text-left overflow-y-scroll",children:Object(z.jsx)("div",{className:"flex flex-col m-2 gap-4",children:n.map((function(e){return Object(z.jsx)(X,{id:e},e)}))})}),Object(z.jsx)(Q.a,{id:"topButtons",place:"top",effect:"solid"})]})};var Z=function(){return Object(z.jsxs)("div",{className:"w-screen flex flex-col justify-center",children:[Object(z.jsx)("nav",{className:"flex flex-row items-center px-8 py-1 bg-blue-600 border-b-8 border-blue-200",children:Object(z.jsx)("div",{className:"flex flex-row items-center text-white",children:Object(z.jsx)("a",{href:"index",className:"no-underline py-2 hover:text-gray-300",children:Object(z.jsx)("h1",{className:"font-bold text-3xl",children:"Data Jupyter"})})})}),Object(z.jsxs)("main",{className:"container mx-auto px-4 py-4 h-screen text-center",children:[Object(z.jsxs)("div",{className:"pt-16",children:[Object(z.jsx)("h1",{className:"font-bold text-3xl uppercase p-4",children:"Choose a dataset"}),Object(z.jsx)(V,{})]}),Object(z.jsxs)("div",{className:"grid grid-cols-2 gap-6 py-4",children:[Object(z.jsx)(Y,{}),Object(z.jsx)(K,{})]})]})]})};var $=function(){return Object(z.jsx)(s.a,{store:A,children:Object(z.jsx)(Z,{})})};c.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)($,{})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.84efae3c.chunk.js.map